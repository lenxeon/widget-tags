webpackJsonp([1,0],[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(15),i=a(s),u=n(13),o=a(u);new i["default"]({el:"body",components:{App:o["default"]}})},function(t,e){"use strict";t.exports={search:function(t,e,n){var a=[],s=Math.round(10*Math.random());(s<2||s>7)&&(s=0);for(var i=0;i<s;i++)a.push({uuid:"10131"+i,name:t+"_0"+i});setTimeout(function(){n(a)},100)},bindTagByName:function(t,e,n,a){console.log(t+"|"+e);var s=Math.round(1e3*Math.random()),i={uuid:s,name:e,sid:t};a(i)},unBindTagById:function(t,e,n,a){a()}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(14),i=a(s);e["default"]={data:function(){return{focus:!0,loading:!1,locked:!1,newTag:"",selectIndex:-1,tags:[],searchResult:[]}},methods:{callback:function(t){console.log(t)}},components:{Tag:i["default"]},computed:{},filter:{urlBuilder:function(t){return"http://www.baidu.com/"+t}},ready:function(){console.log("created")}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),i=a(s),u=13,o=37,l=38,r=39,c=40,d=n(10),f=n(9),h=n(1);e["default"]={props:{subjectId:{type:String,"default":""},width:{type:Number,"default":500}},data:function(){return{focus:!1,loading:!1,locked:!1,newTag:"",selectIndex:-1,tags:[],searchResult:[]}},computed:{wrapClass:function(){return{"tag-box-wrap":!0,focus:this.focus}},autocompleteClass:function(){return{"tag-autocomplete":!0,empty:0===this.searchResult.length&&!this.focus}}},filter:{urlBuilder:function(t){return"http://www.baidu.com/"+t}},methods:{addTagHander:function(t){t.preventDefault();var e=this;e.focus=!0,e.$nextTick(function(){e.$els.tagInput.focus()})},blurHander:function(t){this.focus=!1,t.preventDefault()},upSelectHandler:function(t){var e=this;return e.$els.tagInput.value=this.newTag,this.selectIndex=Math.max(this.selectIndex-1,-1),t.preventDefault(),!1},downSelectHandler:function(t){var e=this;e.$els.tagInput.value=this.newTag;var n=this.searchResult.length;return this.selectIndex=Math.min(this.selectIndex+1,n-1),this.selectIndex=Math.max(this.selectIndex,0),t.preventDefault(),!1},submitHandler:function(){var t="";if(this.searchResult.length>0&&this.selectIndex>=0){var e=this.searchResult[this.selectIndex];t=e.name}else t=this.newTag.trim();t&&t.trim().length>=0&&this.bindTag(t),this.newTag="",this.searchResult=[]},loadShow:function(){this.locked=!0,this.loading=!0},loadHide:function(){this.locked=!1,this.loading=!1},load:function(){var t=this;t.loadShow()},searchTagHandler:function(t){var e=this,n=t.keyCode;if(n===l||n===o||n===r||n===c||n===u)return!1;var a=this.newTag.trim();0!==a.length&&h.search(a,function(){},function(t){e.searchResult=t,e.searchResult.length>0?e.selectIndex=-1:e.selectIndex=-1})},filterBinded:function(t){var e=[];t=t||[];var n=[];f.each(this.tags,function(t,e){n.push(e.name)});for(var a=0;a<t.length;a++){var s=t[a];n.indexOf(s.name)===-1&&e.push(s)}return e},bindTag:function(t){for(var e=this,n=0;n<this.tags.length;n++)if(this.tags[n].name===t)return!1;h.bindTagByName(this.subjectId,t,function(){},function(t){console.log((0,i["default"])(t)),e.tags.push(t)})},unBindTag:function(t){var e=this,n=f(t.target).attr("uuid");h.unBindTagById(this.subjectId,n,function(){},function(){var t=d.filter(e.tags,function(t){return t.uuid+""!==n});e.tags=t})},remove:function(t){for(var e=this,n=0;n<e.tags.length;n++){var a=e.tags[n];a.uuid===t&&e.tags.splice(n,1)}}},created:function(){console.log(this.subjectId),this.load()}}},,,,function(t,e){},function(t,e){},,,function(t,e){t.exports=" <tag subject-id=122ad></tag> "},function(t,e){t.exports=' <div class="tag-box fadeIn ani600" v-bind:style="{ width: width + \'px\' }"> <div :class=wrapClass> <ul class=tags id=tag-list> <li class=item v-for="tag in tags"> <a v-bind:href=tag.uuid>{{tag.name}}</a> <i v-on:click=unBindTag uuid={{tag.uuid}} class="fa fa-times fa-1 ml-5"></i> </li> <li class="item editable"> <input v-on:blur=blurHander v-on:keyup.enter=submitHandler v-on:keyup.up=upSelectHandler v-on:keyup.down=downSelectHandler v-on:keyup="searchTagHandler | debounce 300" v-model=newTag v-el:tag-input class=tag-input type=text /> <span> </span> <span v-on:click=addTagHander class="tag-editable-addtag ml-5">添加分类标签 </span> </li> </ul> <div :class=autocompleteClass> <div v-if="newTag.length==0" class=tag-autocomplete-placeholder> 输入分类标签名称(回车提交) </div> <div v-else> <ul v-if="searchResult.length>0" class=tag-autocomplete-results> <li v-for="(index, tag) in searchResult" :tag=tag :class="{ \'result-item\': true, \'active\':$index===selectIndex }" tag-id={{tag.uuid}}>{{tag.name}}</li> </ul> <ul v-else class=tag-autocomplete-results> <li class=autocomplete-result-tip>enter 自定义分类</li> </ul> </div> </div> </div> </div> '},function(t,e,n){var a,s;n(7),a=n(2),s=n(11),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},function(t,e,n){var a,s;n(8),a=n(3),s=n(12),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)}]);
//# sourceMappingURL=app.js.map
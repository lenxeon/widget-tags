webpackJsonp([2,0],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;var s=a(10),i=n(s);e["default"]=i["default"],e.Tag=i["default"]},function(t,e){"use strict";t.exports={search:function(t,e,a){var n=[],s=Math.round(10*Math.random());(s<2||s>7)&&(s=0);for(var i=0;i<s;i++)n.push({uuid:"10131"+i,name:t+"_0"+i});setTimeout(function(){a(n)},100)},bindTagByName:function(t,e,a,n){console.log(t+"|"+e);var s=Math.round(1e3*Math.random()),i={uuid:s,name:e,sid:t};n(i)},unBindTagById:function(t,e,a,n){n()}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),i=n(s),u=13,l=37,o=38,r=39,c=40,d=a(8),h=a(7),f=a(1);e["default"]={props:{subjectId:{type:String,"default":""},width:{type:Number,"default":500}},data:function(){return{focus:!1,loading:!1,locked:!1,newTag:"",selectIndex:-1,tags:[],searchResult:[]}},computed:{wrapClass:function(){return{"tag-box-wrap":!0,focus:this.focus}},autocompleteClass:function(){return{"tag-autocomplete":!0,empty:0===this.searchResult.length&&!this.focus}}},filter:{urlBuilder:function(t){return"http://www.baidu.com/"+t}},methods:{addTagHander:function(t){t.preventDefault();var e=this;e.focus=!0,e.$nextTick(function(){e.$els.tagInput.focus()})},blurHander:function(t){this.focus=!1,t.preventDefault()},upSelectHandler:function(t){var e=this;return e.$els.tagInput.value=this.newTag,this.selectIndex=Math.max(this.selectIndex-1,-1),t.preventDefault(),!1},downSelectHandler:function(t){var e=this;e.$els.tagInput.value=this.newTag;var a=this.searchResult.length;return this.selectIndex=Math.min(this.selectIndex+1,a-1),this.selectIndex=Math.max(this.selectIndex,0),t.preventDefault(),!1},submitHandler:function(){var t="";if(this.searchResult.length>0&&this.selectIndex>=0){var e=this.searchResult[this.selectIndex];t=e.name}else t=this.newTag.trim();t&&t.trim().length>=0&&this.bindTag(t),this.newTag="",this.searchResult=[]},loadShow:function(){this.locked=!0,this.loading=!0},loadHide:function(){this.locked=!1,this.loading=!1},load:function(){var t=this;t.loadShow()},searchTagHandler:function(t){var e=this,a=t.keyCode;if(a===o||a===l||a===r||a===c||a===u)return!1;var n=this.newTag.trim();0!==n.length&&f.search(n,function(){},function(t){e.searchResult=t,e.searchResult.length>0?e.selectIndex=-1:e.selectIndex=-1})},filterBinded:function(t){var e=[];t=t||[];var a=[];h.each(this.tags,function(t,e){a.push(e.name)});for(var n=0;n<t.length;n++){var s=t[n];a.indexOf(s.name)===-1&&e.push(s)}return e},bindTag:function(t){for(var e=this,a=0;a<this.tags.length;a++)if(this.tags[a].name===t)return!1;f.bindTagByName(this.subjectId,t,function(){},function(t){console.log((0,i["default"])(t)),e.tags.push(t)})},unBindTag:function(t){var e=this,a=h(t.target).attr("uuid");f.unBindTagById(this.subjectId,a,function(){},function(){var t=d.filter(e.tags,function(t){return t.uuid+""!==a});e.tags=t})},remove:function(t){for(var e=this,a=0;a<e.tags.length;a++){var n=e.tags[a];n.uuid===t&&e.tags.splice(a,1)}}},created:function(){console.log(this.subjectId),this.load()}}},,,,function(t,e){},,,function(t,e){t.exports=' <div class="tag-box fadeIn ani600" v-bind:style="{ width: width + \'px\' }"> <div :class=wrapClass> <ul class=tags id=tag-list> <li class=item v-for="tag in tags"> <a v-bind:href=tag.uuid>{{tag.name}}</a> <i v-on:click=unBindTag uuid={{tag.uuid}} class="fa fa-times fa-1 ml-5"></i> </li> <li class="item editable"> <input v-on:blur=blurHander v-on:keyup.enter=submitHandler v-on:keyup.up=upSelectHandler v-on:keyup.down=downSelectHandler v-on:keyup="searchTagHandler | debounce 300" v-model=newTag v-el:tag-input class=tag-input type=text /> <span> </span> <span v-on:click=addTagHander class="tag-editable-addtag ml-5">添加分类标签 </span> </li> </ul> <div :class=autocompleteClass> <div v-if="newTag.length==0" class=tag-autocomplete-placeholder> 输入分类标签名称(回车提交) </div> <div v-else> <ul v-if="searchResult.length>0" class=tag-autocomplete-results> <li v-for="(index, tag) in searchResult" :tag=tag :class="{ \'result-item\': true, \'active\':$index===selectIndex }" tag-id={{tag.uuid}}>{{tag.name}}</li> </ul> <ul v-else class=tag-autocomplete-results> <li class=autocomplete-result-tip>enter 自定义分类</li> </ul> </div> </div> </div> </div> '},function(t,e,a){var n,s;a(6),n=a(2),s=a(9),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)}]);
//# sourceMappingURL=app.js.map